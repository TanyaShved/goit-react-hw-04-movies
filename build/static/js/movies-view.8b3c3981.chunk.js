(this["webpackJsonpgoit-react-hw-04-movie"]=this["webpackJsonpgoit-react-hw-04-movie"]||[]).push([[5],{116:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a(71),r=a(62),o=a(0),i=a(3),s=a(18),u=a(21),h=(a(83),a(84)),m=a.n(h),l=function(e){e.onSubmit;var t=Object(o.useState)(""),a=Object(r.a)(t,2),s=a[0],h=a[1],l=Object(i.g)(),b=Object(i.f)();return Object(n.jsx)("header",{className:m.a.Searchbar,children:Object(n.jsxs)("form",{className:m.a.SearchForm,children:[Object(n.jsx)("button",{type:"submit",onClick:function(e){e.preventDefault(),b.push(Object(c.a)(Object(c.a)({},l),{},{search:"query=".concat(e.target.form.movieName.value)})),""!==s.trim()?h(""):u.b.warn("\u0412\u0432\u0438\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435!")},className:m.a.SearchForm_button,children:Object(n.jsx)("span",{className:m.a.SearchForm_button_label,children:"Search"})}),Object(n.jsx)("input",{className:m.a.SearchForm_input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movie",value:s,name:"movieName",id:"",onChange:function(e){h(e.currentTarget.value.toLowerCase())}})]})})},b=a(66),j=a(68),f=a(111),g=a(61),p="idle",v="pending",_="resolved",d="rejected";t.default=function(){var e,t=Object(o.useState)([]),a=Object(r.a)(t,2),u=a[0],h=a[1],m=Object(o.useState)(null),O=Object(r.a)(m,2),S=O[0],M=O[1],w=Object(o.useState)(p),y=Object(r.a)(w,2),x=y[0],P=y[1],F=Object(o.useState)(0),N=Object(r.a)(F,2),k=N[0],I=N[1],C=Object(j.a)(),L=Object(i.f)(),E=Object(i.g)(),T=null!==(e=new URLSearchParams(E.search).get("page"))&&void 0!==e?e:1;Object(o.useEffect)((function(){""!==E.search&&U(new URLSearchParams(E.search).get("query"))}),[E.search]);var U=function(e,t){g.a.fetchMovieByName(e,t).then((function(e){var t=e.results,a=e.total_pages;return 0!==t.length?(h(t),I(a),void P(_)):Promise.reject(new Error("Sorry. This movie was not found!"))})).catch((function(e){M(e),P(d)}))};return Object(n.jsxs)("main",{children:[Object(n.jsx)(l,{}),x===v&&Object(n.jsx)(s.a,{}),x===_&&Object(n.jsxs)(n.Fragment,{children:[u&&Object(n.jsx)(b.a,{movies:u}),k>1&&Object(n.jsx)(f.a,{className:C.root,count:k,onChange:function(e,t){L.push(Object(c.a)(Object(c.a)({},E),{},{search:"page=".concat(t)}))},page:Number(T),showFirstButton:!0,showLastButton:!0,size:"large"})]}),x===d&&Object(n.jsx)("h1",{children:S.message})]})}},61:function(e,t,a){"use strict";var n="c1ded0bfb98f51bbb3c132d34092ee93",c="https://api.themoviedb.org/3",r={fetchPopularMovies:function(e){return fetch("".concat(c,"/trending/movie/day?api_key=").concat(n,"&page=").concat(e)).then((function(e){return e.ok?e.json():Promise.reject(new Error("Sorry, Something came wrong!"))}))},fetchMovieInfo:function(e){return fetch("".concat(c,"/movie/").concat(e,"?api_key=").concat(n,"&language=en-US")).then((function(e){return e.ok?e.json():Promise.reject(new Error("Sorry. This movie was not found!"))}))},fetchMovieByName:function(e,t){return fetch("".concat(c,"/search/movie?api_key=").concat(n,"&language=en-US&query=").concat(e,"&page=").concat(t)).then((function(e){return e.ok?e.json():Promise.reject(new Error("Sorry. This movie was not found!"))}))},fetchCast:function(e){return fetch("".concat(c,"/movie/").concat(e,"/credits?api_key=").concat(n,"&language=en-US")).then((function(e){return e.ok?e.json():Promise.reject(new Error("Sorry. This movie was not found!"))}))},fetchReviews:function(e){return fetch("".concat(c,"/movie/").concat(e,"/reviews?api_key=").concat(n,"&language=en-US&page=1")).then((function(e){return e.ok?e.json():Promise.reject(new Error("Sorry. This movie was not found!"))}))},fetchModalForTrailler:function(e){return fetch("".concat(c,"/movie/").concat(e,"/videos?api_key=").concat(n,"&language=en-US")).then((function(e){return e.ok?e.json():Promise.reject(new Error("Sorry. This trailer was not found!"))}))}};t.a=r},66:function(e,t,a){"use strict";var n=a(1),c=a(3),r=a(11),o=a(67),i=a.n(o);t.a=function(e){var t=e.movies,a=Object(c.i)().url,o=a,s=Object(c.g)();return"/"===a&&(o=a+"movies"),Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("main",{className:i.a.main,children:Object(n.jsx)("ul",{className:i.a.list,children:t.map((function(e){var t=e.title,a=e.id,c=e.name,u=e.poster_path,h=e.vote_average;return Object(n.jsx)("li",{className:i.a.item,children:Object(n.jsx)(r.b,{to:{pathname:"".concat(o,"/").concat(a),state:{from:s}},children:Object(n.jsxs)("article",{children:[Object(n.jsx)("img",{src:"https://image.tmdb.org/t/p/w500/".concat(u),alt:t,width:"100%",className:i.a.poster}),Object(n.jsx)("div",{className:i.a.info,children:Object(n.jsxs)("h2",{className:i.a.title,children:[t||c,Object(n.jsx)("span",{className:i.a.rating,children:h})]})})]})})},a)}))})})})}},67:function(e,t,a){e.exports={main:"MoviesList_main__107gs",list:"MoviesList_list__1lRBZ",item:"MoviesList_item__1Rt4r",title:"MoviesList_title__2o3hp",poster:"MoviesList_poster__17HKy",rating:"MoviesList_rating__3Fyds"}},68:function(e,t,a){"use strict";var n=a(107),c=Object(n.a)({root:{display:"flex",justifyContent:"center","& .MuiPaginationItem-page.Mui-selected, & .MuiPaginationItem-page.Mui-selected:hover, & .MuiPaginationItem-page.Mui-selected.Mui-focusVisible,  & .MuiPaginationItem-page:hover, & .MuiPaginationItem-page.Mui-focusVisible":{backgroundColor:"#ff6b08"},"& .MuiPaginationItem-root":{color:"read"},"& .MuiPaginationItem-page:hover, & .MuiPaginationItem-page.Mui-focusVisible":{opacity:"0.7"},"& .MuiPaginationItem-page.Mui-selected:hover, & .MuiPaginationItem-page.Mui-selected.Mui-focusVisible":{opacity:"1"},"& .MuiPagination-ul":{justifyContent:"center"}}});t.a=c},83:function(e,t,a){},84:function(e,t,a){e.exports={Searchbar:"Searcbar_Searchbar__srXIb",SearchForm:"Searcbar_SearchForm__P4C8_",SearchForm_button:"Searcbar_SearchForm_button__1CVq2",SearchForm_button_label:"Searcbar_SearchForm_button_label__1B5iQ",SearchForm_input:"Searcbar_SearchForm_input__1YCxI"}}}]);
//# sourceMappingURL=movies-view.8b3c3981.chunk.js.map