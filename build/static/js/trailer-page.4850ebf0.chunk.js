(this["webpackJsonpgoit-react-hw-04-movie"]=this["webpackJsonpgoit-react-hw-04-movie"]||[]).push([[9],{119:function(e,t,r){"use strict";r.r(t);var c=r(1),n=r(62),a=r(0),o=r(18),i=r(10),l=r(3),s=r(94),d=r.n(s);var u=function(e){var t=e.onClose,r=e.children,n=Object(l.f)();return Object(a.useEffect)((function(){var e=function(e){"Escape"===e.code&&t(),n.goBack()};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[t,n]),Object(i.createPortal)(Object(c.jsx)("div",{className:d.a.backdrop,onClick:function(e){e.target===e.currentTarget&&t(),n.goBack()},children:Object(c.jsx)("div",{className:d.a.content,children:r})}),document.querySelector("#modal-root"))},j=r(61),b=r(95),m=r.n(b),h="idle",f="pending",p="resolved",w="rejected";t.default=function(e){var t=e.movieId,r=e.toggleModal,i=e.showModal,l=Object(a.useState)(""),s=Object(n.a)(l,2),d=s[0],b=s[1],O=Object(a.useState)(null),g=Object(n.a)(O,2),v=g[0],x=g[1],_=Object(a.useState)(h),k=Object(n.a)(_,2),y=k[0],S=k[1];return Object(a.useEffect)((function(){S(f),j.a.fetchModalForTrailler(t).then((function(e){return 0!==e.results.length?(b(e.results),void S(p)):Promise.reject(new Error("Sorry, Something came wrong!"))})).catch((function(e){x(e),S(w)}))}),[t]),Object(c.jsxs)(c.Fragment,{children:[y===f&&Object(c.jsx)(o.a,{}),y===p&&Object(c.jsx)(c.Fragment,{children:d&&Object(c.jsx)("ul",{className:m.a.trailerList,children:d.map((function(e){var t=e.id,n=e.key,a=e.name;return n&&Object(c.jsx)("li",{className:m.a.trailerItem,children:i&&Object(c.jsx)(u,{onClose:r,children:Object(c.jsx)("iframe",{title:a,width:"100%",height:"100%",src:"https://www.youtube.com//embed/"+n,frameBorder:"0",allowFullScreen:!0,allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"})})},t+n)}))})}),y===w&&Object(c.jsx)("h1",{children:v.message})]})}},94:function(e,t,r){e.exports={backdrop:"Modal_backdrop__3FAPo",content:"Modal_content__1VIbZ"}},95:function(e,t,r){e.exports={trailerList:"Trailer_trailerList__1pFqx",trailerItem:"Trailer_trailerItem__1w24t"}}}]);
//# sourceMappingURL=trailer-page.4850ebf0.chunk.js.map