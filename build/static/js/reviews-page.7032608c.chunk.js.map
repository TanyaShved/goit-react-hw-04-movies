{"version":3,"sources":["../node_modules/react-simple-show-more/es/index.js","components/ReviewItem/ReviewItem.jsx","components/ReviwesList/ReviwesList.jsx","components/Reviews/Reviews.jsx","components/ReviewItem/ReviewItem.module.css","components/ReviwesList/ReviwesList.module.css"],"names":["_class","_temp","ShowMore","_Component","props","instance","Constructor","TypeError","_classCallCheck","this","_this","self","call","ReferenceError","_possibleConstructorReturn","shouldTruncateString","string","length","parseInt","truncatedString","slice","split","join","toggleShowMore","event","preventDefault","setState","prevState","showMore","state","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","_inherits","render","_props","text","enabled","className","style","ellipsis","showMoreLabel","showLessLabel","Tag","tag","React","createElement","Fragment","onClick","Component","defaultProps","cursor","color","propTypes","ReviewItem","author","review","s","wrapper","title","fontWeight","ReviwesList","reviews","list","map","id","content","item","Status","Reviews","useState","setReviews","error","setError","status","setStatus","useEffect","api","fetchReviews","then","results","toast","catch","Spinner","message","module","exports"],"mappings":"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","file":"static/js/reviews-page.7032608c.chunk.js","sourcesContent":["var _class, _temp;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nvar ShowMore = (_temp = _class = function (_Component) {\n  _inherits(ShowMore, _Component);\n\n  function ShowMore(props) {\n    _classCallCheck(this, ShowMore);\n\n    var _this = _possibleConstructorReturn(this, _Component.call(this, props));\n\n    _this.shouldTruncateString = function (string) {\n      return string.length > parseInt(_this.props.length);\n    };\n\n    _this.truncatedString = function (string) {\n      return string.slice(0, _this.props.length).split(' ').slice(0, -1).join(' ');\n    };\n\n    _this.toggleShowMore = function (event) {\n      if (event && event.preventDefault) event.preventDefault();\n      _this.setState(function (prevState) {\n        return { showMore: !prevState.showMore };\n      });\n    };\n\n    _this.state = {\n      showMore: false\n    };\n    return _this;\n  }\n\n  ShowMore.prototype.render = function render() {\n    var showMore = this.state.showMore;\n    var _props = this.props,\n        text = _props.text,\n        enabled = _props.enabled,\n        className = _props.className,\n        style = _props.style,\n        ellipsis = _props.ellipsis,\n        showMoreLabel = _props.showMoreLabel,\n        showLessLabel = _props.showLessLabel;\n\n    var Tag = this.props.tag;\n    if (enabled && this.shouldTruncateString(text)) {\n      return React.createElement(\n        React.Fragment,\n        null,\n        !showMore && '' + this.truncatedString(text) + ellipsis,\n        showMore && text,\n        React.createElement(\n          Tag,\n          {\n            className: className,\n            onClick: this.toggleShowMore,\n            style: style\n          },\n          showMore ? showLessLabel : showMoreLabel\n        )\n      );\n    }\n    return React.createElement(\n      React.Fragment,\n      null,\n      text\n    );\n  };\n\n  return ShowMore;\n}(Component), _class.defaultProps = {\n  enabled: true,\n  length: 170,\n  className: '',\n  tag: 'span',\n  style: {\n    cursor: 'pointer',\n    color: '#007bff'\n  },\n  ellipsis: '...',\n  showMoreLabel: ' Show more',\n  showLessLabel: ' Show less'\n}, _temp);\nShowMore.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  text: PropTypes.string.isRequired,\n  enabled: PropTypes.any,\n  length: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  className: PropTypes.string,\n  tag: PropTypes.string,\n  style: PropTypes.object,\n  ellipsis: PropTypes.string,\n  showMoreLabel: PropTypes.string,\n  showLessLabel: PropTypes.string\n} : {};\n\n\nexport default ShowMore;","import ShowMore from 'react-simple-show-more';\nimport s from './ReviewItem.module.css';\nimport PropTypes from 'prop-types';\n\nconst ReviewItem = ({ author, review }) => {\n  return (\n    <div className={s.wrapper}>\n      <h2 className={s.title}>{author}</h2>\n      <p>\n        <ShowMore\n          text={review}\n          length={700}\n          showMoreLabel=\" Show more >>\"\n          showLessLabel=\" Show less <<\"\n          style={{\n            cursor: 'pointer',\n            color: '#ff6b08',\n            fontWeight: 'bold',\n          }}\n        />\n      </p>\n    </div>\n  );\n};\n\nReviewItem.propTypes = {\n  author: PropTypes.string,\n  review: PropTypes.string,\n};\n\nexport default ReviewItem;\n","import ReviewItem from '../ReviewItem/ReviewItem';\nimport PropTypes from 'prop-types';\nimport s from './ReviwesList.module.css';\n\nconst ReviwesList = ({ reviews }) => {\n  return (\n    <ul className={s.list}>\n      {reviews.map(({ id, author, content }) => (\n        <li key={id} className={s.item}>\n          <ReviewItem author={author} review={content} />\n        </li>\n      ))}\n    </ul>\n  );\n};\n\nReviwesList.propTypes = {\n  reviews: PropTypes.array,\n};\n\nexport default ReviwesList;\n","import { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport ReviwesList from '../ReviwesList/ReviwesList';\nimport Spinner from '../Spinner/Spinner';\nimport api from 'services/movies-api';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nconst Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n\nconst Reviews = ({ id }) => {\n  const [reviews, setReviews] = useState([]);\n  const [error, setError] = useState(null);\n  const [status, setStatus] = useState(Status.IDLE);\n\n  useEffect(() => {\n    setStatus(Status.PENDING);\n\n    api\n      .fetchReviews(id)\n      .then(({ results }) => {\n        if (results.length === 0) {\n          toast.error(\"We don't have any reviews for this movie.\");\n          setStatus(Status.IDLE);\n          return;\n        }\n        setReviews(results);\n        setStatus(Status.RESOLVED);\n      })\n      .catch(error => {\n        setError(error);\n        setStatus(Status.REJECTED);\n      });\n  }, [id]);\n\n  return (\n    <>\n      {status === Status.PENDING && <Spinner />}\n\n      {status === Status.RESOLVED && reviews.length > 0 && (\n        <ReviwesList reviews={reviews} />\n      )}\n\n      {status === Status.REJECTED && <h1>{error.message}</h1>}\n    </>\n  );\n};\n\nReviews.propTypes = {\n  id: PropTypes.string.isRequired,\n};\n\nexport default Reviews;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"ReviewItem_wrapper__-KdNE\",\"title\":\"ReviewItem_title__3hVME\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"ReviwesList_list__34_Rj\",\"item\":\"ReviwesList_item__1qQCk\"};"],"sourceRoot":""}